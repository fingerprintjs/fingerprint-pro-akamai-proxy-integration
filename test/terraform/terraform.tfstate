{
  "version": 4,
  "terraform_version": "1.6.2",
  "serial": 26,
  "lineage": "8898728b-ec71-7212-cb6a-0d3324acd97c",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "akamai_property_rules_template",
      "name": "rules",
      "provider": "provider[\"registry.terraform.io/akamai/akamai\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "da39a3ee5e6b4b0d3255bfef95601890afd80709",
            "json": "{\n  \"rules\": {\n    \"name\": \"default\",\n    \"behaviors\": [\n      {\n        \"name\": \"origin\",\n        \"options\": {\n          \"cacheKeyHostname\": \"ORIGIN_HOSTNAME\",\n          \"compress\": true,\n          \"enableTrueClientIp\": true,\n          \"forwardHostHeader\": \"ORIGIN_HOSTNAME\",\n          \"httpPort\": 80,\n          \"httpsPort\": 443,\n          \"originCertificate\": \"\",\n          \"originSni\": true,\n          \"originType\": \"CUSTOMER\",\n          \"ports\": \"\",\n          \"trueClientIpClientSetting\": false,\n          \"trueClientIpHeader\": \"True-Client-IP\",\n          \"verificationMode\": \"PLATFORM_SETTINGS\",\n          \"hostname\": \"fpjs-akamai.s3.amazonaws.com\"\n        }\n      },\n      {\n        \"name\": \"cpCode\",\n        \"options\": {\n          \"value\": {\n            \"id\": 1.545435e+06,\n            \"products\": [\n              \"prd_Site_Accel\"\n            ],\n            \"name\": \"akamai-test.pz-fingerprint.xyz\"\n          }\n        }\n      }\n    ],\n    \"children\": [\n      {\n        \"children\": [\n          {\n            \"behaviors\": [],\n            \"comments\": \"Identify your main traffic segments so you can zoom in your traffic statistics like hits, bandwidth, offload, response codes, and errors.\",\n            \"name\": \"Traffic reporting\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"mPulse\",\n                \"options\": {\n                  \"apiKey\": \"\",\n                  \"bufferSize\": \"\",\n                  \"configOverride\": \"\",\n                  \"enabled\": true,\n                  \"loaderVersion\": \"V12\",\n                  \"requirePci\": false,\n                  \"titleOptional\": \"\"\n                }\n              }\n            ],\n            \"comments\": \"Collect and analyze real-user data to monitor the performance of your website.\",\n            \"name\": \"mPulse RUM\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"edgeScape\",\n                \"options\": {\n                  \"enabled\": false\n                }\n              }\n            ],\n            \"comments\": \"Receive data about a user's geolocation and connection speed in a request header. If you change cached content based on the values of the X-Akamai-Edgescape request header, contact your account representative.\",\n            \"criteria\": [\n              {\n                \"name\": \"requestType\",\n                \"options\": {\n                  \"matchOperator\": \"IS\",\n                  \"value\": \"CLIENT_REQ\"\n                }\n              }\n            ],\n            \"name\": \"Geolocation\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"report\",\n                \"options\": {\n                  \"logAcceptLanguage\": false,\n                  \"logCookies\": \"OFF\",\n                  \"logCustomLogField\": false,\n                  \"logEdgeIP\": false,\n                  \"logHost\": false,\n                  \"logReferer\": false,\n                  \"logUserAgent\": false,\n                  \"logXForwardedFor\": false\n                }\n              }\n            ],\n            \"comments\": \"Specify the level of detail you want to be logged in your Log Delivery Service reports. Log User-Agent Header to obtain detailed information in the Traffic by Browser and OS report.\",\n            \"name\": \"Log delivery\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          }\n        ],\n        \"comments\": \"Control the settings related to monitoring and reporting. This gives you additional visibility into your traffic and audiences.\",\n        \"name\": \"Augment insights\",\n        \"options\": {},\n        \"criteriaMustSatisfy\": \"all\"\n      },\n      {\n        \"children\": [\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"dnsAsyncRefresh\",\n                \"options\": {\n                  \"enabled\": true,\n                  \"timeout\": \"1h\"\n                }\n              },\n              {\n                \"name\": \"timeout\",\n                \"options\": {\n                  \"value\": \"5s\"\n                }\n              },\n              {\n                \"name\": \"readTimeout\",\n                \"options\": {\n                  \"value\": \"120s\"\n                }\n              }\n            ],\n            \"comments\": \"Optimize the connection between edge and origin.\",\n            \"name\": \"Origin connectivity\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"http3\",\n                \"options\": {\n                  \"enable\": true\n                }\n              },\n              {\n                \"name\": \"http2\",\n                \"options\": {\n                  \"enabled\": \"\"\n                }\n              },\n              {\n                \"name\": \"allowTransferEncoding\",\n                \"options\": {\n                  \"enabled\": true\n                }\n              },\n              {\n                \"name\": \"sureRoute\",\n                \"options\": {\n                  \"enableCustomKey\": false,\n                  \"enabled\": true,\n                  \"forceSslForward\": false,\n                  \"raceStatTtl\": \"30m\",\n                  \"srDownloadLinkTitle\": \"\",\n                  \"testObjectUrl\": \"/akamai/sureroute-test-object.html\",\n                  \"toHostStatus\": \"INCOMING_HH\",\n                  \"type\": \"PERFORMANCE\"\n                }\n              }\n            ],\n            \"comments\": \"Serve your website using modern and fast protocols.\",\n            \"name\": \"Protocol Optimizations\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"children\": [\n              {\n                \"behaviors\": [\n                  {\n                    \"name\": \"prefetch\",\n                    \"options\": {\n                      \"enabled\": true\n                    }\n                  }\n                ],\n                \"children\": [\n                  {\n                    \"behaviors\": [\n                      {\n                        \"name\": \"prefetch\",\n                        \"options\": {\n                          \"enabled\": false\n                        }\n                      }\n                    ],\n                    \"comments\": \"Disable prefetching for specific clients identifying themselves as bots and crawlers. This avoids requesting unnecessary resources from the origin.\",\n                    \"criteria\": [\n                      {\n                        \"name\": \"userAgent\",\n                        \"options\": {\n                          \"matchCaseSensitive\": false,\n                          \"matchOperator\": \"IS_ONE_OF\",\n                          \"matchWildcard\": true,\n                          \"values\": [\n                            \"*bot*\",\n                            \"*crawl*\",\n                            \"*spider*\"\n                          ]\n                        }\n                      }\n                    ],\n                    \"name\": \"Bots\",\n                    \"options\": {},\n                    \"criteriaMustSatisfy\": \"all\"\n                  }\n                ],\n                \"comments\": \"Define for which HTML pages prefetching should be enabled.\",\n                \"name\": \"Prefetching objects\",\n                \"options\": {},\n                \"criteriaMustSatisfy\": \"all\"\n              },\n              {\n                \"behaviors\": [\n                  {\n                    \"name\": \"prefetchable\",\n                    \"options\": {\n                      \"enabled\": true\n                    }\n                  }\n                ],\n                \"comments\": \"Define which resources should be prefetched.\",\n                \"criteria\": [\n                  {\n                    \"name\": \"fileExtension\",\n                    \"options\": {\n                      \"matchCaseSensitive\": false,\n                      \"matchOperator\": \"IS_ONE_OF\",\n                      \"values\": [\n                        \"css\",\n                        \"js\",\n                        \"jpg\",\n                        \"jpeg\",\n                        \"jp2\",\n                        \"png\",\n                        \"gif\",\n                        \"svg\",\n                        \"svgz\",\n                        \"webp\",\n                        \"eot\",\n                        \"woff\",\n                        \"woff2\",\n                        \"otf\",\n                        \"ttf\"\n                      ]\n                    }\n                  }\n                ],\n                \"name\": \"Prefetchable objects\",\n                \"options\": {},\n                \"criteriaMustSatisfy\": \"all\"\n              }\n            ],\n            \"name\": \"Prefetching\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          }\n        ],\n        \"comments\": \"Control the settings related to improving the performance of delivering objects to your users.\",\n        \"name\": \"Accelerate Delivery\",\n        \"options\": {},\n        \"criteriaMustSatisfy\": \"all\"\n      },\n      {\n        \"behaviors\": [\n          {\n            \"name\": \"caching\",\n            \"options\": {\n              \"behavior\": \"NO_STORE\"\n            }\n          },\n          {\n            \"name\": \"tieredDistribution\",\n            \"options\": {\n              \"enabled\": true,\n              \"tieredDistributionMap\": \"CH2\"\n            }\n          },\n          {\n            \"name\": \"validateEntityTag\",\n            \"options\": {\n              \"enabled\": false\n            }\n          },\n          {\n            \"name\": \"removeVary\",\n            \"options\": {\n              \"enabled\": false\n            }\n          },\n          {\n            \"name\": \"cacheError\",\n            \"options\": {\n              \"enabled\": true,\n              \"preserveStale\": true,\n              \"ttl\": \"10s\"\n            }\n          },\n          {\n            \"name\": \"cacheKeyQueryParams\",\n            \"options\": {\n              \"behavior\": \"INCLUDE_ALL_ALPHABETIZE_ORDER\"\n            }\n          },\n          {\n            \"name\": \"prefreshCache\",\n            \"options\": {\n              \"enabled\": true,\n              \"prefreshval\": 90\n            }\n          },\n          {\n            \"name\": \"downstreamCache\",\n            \"options\": {\n              \"allowBehavior\": \"LESSER\",\n              \"behavior\": \"ALLOW\",\n              \"sendHeaders\": \"CACHE_CONTROL\",\n              \"sendPrivate\": false\n            }\n          }\n        ],\n        \"children\": [\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"caching\",\n                \"options\": {\n                  \"behavior\": \"MAX_AGE\",\n                  \"mustRevalidate\": false,\n                  \"ttl\": \"7d\"\n                }\n              }\n            ],\n            \"comments\": \"Override the default caching behavior for CSS and JavaScript.\",\n            \"criteria\": [\n              {\n                \"name\": \"fileExtension\",\n                \"options\": {\n                  \"matchCaseSensitive\": false,\n                  \"matchOperator\": \"IS_ONE_OF\",\n                  \"values\": [\n                    \"css\",\n                    \"js\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"CSS and JavaScript\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"any\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"caching\",\n                \"options\": {\n                  \"behavior\": \"MAX_AGE\",\n                  \"mustRevalidate\": false,\n                  \"ttl\": \"30d\"\n                }\n              }\n            ],\n            \"comments\": \"Override the default caching behavior for fonts.\",\n            \"criteria\": [\n              {\n                \"name\": \"fileExtension\",\n                \"options\": {\n                  \"matchCaseSensitive\": false,\n                  \"matchOperator\": \"IS_ONE_OF\",\n                  \"values\": [\n                    \"eot\",\n                    \"woff\",\n                    \"woff2\",\n                    \"otf\",\n                    \"ttf\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"Fonts\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"any\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"caching\",\n                \"options\": {\n                  \"behavior\": \"MAX_AGE\",\n                  \"mustRevalidate\": false,\n                  \"ttl\": \"30d\"\n                }\n              }\n            ],\n            \"comments\": \"Override the default caching behavior for images.\",\n            \"criteria\": [\n              {\n                \"name\": \"fileExtension\",\n                \"options\": {\n                  \"matchCaseSensitive\": false,\n                  \"matchOperator\": \"IS_ONE_OF\",\n                  \"values\": [\n                    \"jpg\",\n                    \"jpeg\",\n                    \"png\",\n                    \"gif\",\n                    \"webp\",\n                    \"jp2\",\n                    \"ico\",\n                    \"svg\",\n                    \"svgz\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"Images\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"any\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"caching\",\n                \"options\": {\n                  \"behavior\": \"MAX_AGE\",\n                  \"mustRevalidate\": false,\n                  \"ttl\": \"7d\"\n                }\n              }\n            ],\n            \"comments\": \"Override the default caching behavior for files. Files containing Personal Identified Information (PII) should require Edge authentication or not be cached at all.\",\n            \"criteria\": [\n              {\n                \"name\": \"fileExtension\",\n                \"options\": {\n                  \"matchCaseSensitive\": false,\n                  \"matchOperator\": \"IS_ONE_OF\",\n                  \"values\": [\n                    \"pdf\",\n                    \"doc\",\n                    \"docx\",\n                    \"odt\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"Files\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"any\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"caching\",\n                \"options\": {\n                  \"behavior\": \"MAX_AGE\",\n                  \"mustRevalidate\": false,\n                  \"ttl\": \"7d\"\n                }\n              }\n            ],\n            \"comments\": \"Override the default caching behavior for other static objects.\",\n            \"criteria\": [\n              {\n                \"name\": \"fileExtension\",\n                \"options\": {\n                  \"matchCaseSensitive\": false,\n                  \"matchOperator\": \"IS_ONE_OF\",\n                  \"values\": [\n                    \"aif\",\n                    \"aiff\",\n                    \"au\",\n                    \"avi\",\n                    \"bin\",\n                    \"bmp\",\n                    \"cab\",\n                    \"carb\",\n                    \"cct\",\n                    \"cdf\",\n                    \"class\",\n                    \"dcr\",\n                    \"dtd\",\n                    \"exe\",\n                    \"flv\",\n                    \"gcf\",\n                    \"gff\",\n                    \"grv\",\n                    \"hdml\",\n                    \"hqx\",\n                    \"ini\",\n                    \"mov\",\n                    \"mp3\",\n                    \"nc\",\n                    \"pct\",\n                    \"ppc\",\n                    \"pws\",\n                    \"swa\",\n                    \"swf\",\n                    \"txt\",\n                    \"vbs\",\n                    \"w32\",\n                    \"wav\",\n                    \"midi\",\n                    \"wbmp\",\n                    \"wml\",\n                    \"wmlc\",\n                    \"wmls\",\n                    \"wmlsc\",\n                    \"xsd\",\n                    \"zip\",\n                    \"pict\",\n                    \"tif\",\n                    \"tiff\",\n                    \"mid\",\n                    \"jxr\",\n                    \"jar\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"Other static objects\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"any\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"caching\",\n                \"options\": {\n                  \"behavior\": \"NO_STORE\"\n                }\n              },\n              {\n                \"name\": \"cacheKeyQueryParams\",\n                \"options\": {\n                  \"behavior\": \"IGNORE\",\n                  \"exactMatch\": true,\n                  \"parameters\": [\n                    \"gclid\",\n                    \"fbclid\",\n                    \"utm_source\",\n                    \"utm_campaign\",\n                    \"utm_medium\",\n                    \"utm_content\"\n                  ]\n                }\n              }\n            ],\n            \"comments\": \"Override the default caching behavior for HTML pages cached on edge servers.\",\n            \"criteria\": [\n              {\n                \"name\": \"fileExtension\",\n                \"options\": {\n                  \"matchCaseSensitive\": false,\n                  \"matchOperator\": \"IS_ONE_OF\",\n                  \"values\": [\n                    \"html\",\n                    \"htm\",\n                    \"php\",\n                    \"jsp\",\n                    \"aspx\",\n                    \"EMPTY_STRING\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"HTML pages\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"cacheRedirect\",\n                \"options\": {\n                  \"enabled\": \"false\"\n                }\n              },\n              {\n                \"name\": \"chaseRedirects\",\n                \"options\": {\n                  \"enabled\": false\n                }\n              }\n            ],\n            \"comments\": \"Configure caching for HTTP redirects. The redirect is cached for the same TTL as a 200 response when this feature is enabled\",\n            \"name\": \"Redirects\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"cachePost\",\n                \"options\": {\n                  \"enabled\": false\n                }\n              }\n            ],\n            \"comments\": \"Define when HTTP POST requests should be cached. You should enable it under a criteria match.\",\n            \"name\": \"POST responses\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"graphqlCaching\",\n                \"options\": {\n                  \"enabled\": false\n                }\n              }\n            ],\n            \"comments\": \"Define when your GraphQL queries should be cached.\",\n            \"criteria\": [\n              {\n                \"name\": \"path\",\n                \"options\": {\n                  \"matchCaseSensitive\": false,\n                  \"matchOperator\": \"MATCHES_ONE_OF\",\n                  \"normalize\": false,\n                  \"values\": [\n                    \"/graphql\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"GraphQL\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"downstreamCache\",\n                \"options\": {\n                  \"behavior\": \"BUST\"\n                }\n              }\n            ],\n            \"comments\": \"Configure the default client caching behavior for uncacheable content at the edge.\",\n            \"criteria\": [\n              {\n                \"name\": \"cacheability\",\n                \"options\": {\n                  \"matchOperator\": \"IS_NOT\",\n                  \"value\": \"CACHEABLE\"\n                }\n              }\n            ],\n            \"name\": \"Uncacheable objects\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          }\n        ],\n        \"comments\": \"Control the settings related to caching content at the edge and in the browser. As a result, fewer requests go to your origin, fewer bytes leave your data centers, and your assets are closer to your users.\",\n        \"name\": \"Offload origin\",\n        \"options\": {},\n        \"criteriaMustSatisfy\": \"all\"\n      },\n      {\n        \"children\": [\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"allHttpInCacheHierarchy\",\n                \"options\": {\n                  \"enabled\": true\n                }\n              }\n            ],\n            \"children\": [\n              {\n                \"behaviors\": [\n                  {\n                    \"name\": \"allowPost\",\n                    \"options\": {\n                      \"allowWithoutContentLength\": false,\n                      \"enabled\": true\n                    }\n                  }\n                ],\n                \"comments\": \"Allow use of the POST HTTP request method.\",\n                \"name\": \"POST\",\n                \"options\": {},\n                \"criteriaMustSatisfy\": \"all\"\n              },\n              {\n                \"behaviors\": [\n                  {\n                    \"name\": \"allowOptions\",\n                    \"options\": {\n                      \"enabled\": true\n                    }\n                  }\n                ],\n                \"comments\": \"Allow use of the OPTIONS HTTP request method.\",\n                \"name\": \"OPTIONS\",\n                \"options\": {},\n                \"criteriaMustSatisfy\": \"all\"\n              },\n              {\n                \"behaviors\": [\n                  {\n                    \"name\": \"allowPut\",\n                    \"options\": {\n                      \"enabled\": false\n                    }\n                  }\n                ],\n                \"comments\": \"Allow use of the PUT HTTP request method.\",\n                \"name\": \"PUT\",\n                \"options\": {},\n                \"criteriaMustSatisfy\": \"all\"\n              },\n              {\n                \"behaviors\": [\n                  {\n                    \"name\": \"allowDelete\",\n                    \"options\": {\n                      \"enabled\": false\n                    }\n                  }\n                ],\n                \"comments\": \"Allow use of the DELETE HTTP request method.\",\n                \"name\": \"DELETE\",\n                \"options\": {},\n                \"criteriaMustSatisfy\": \"all\"\n              },\n              {\n                \"behaviors\": [\n                  {\n                    \"name\": \"allowPatch\",\n                    \"options\": {\n                      \"enabled\": false\n                    }\n                  }\n                ],\n                \"comments\": \"Allow use of the PATCH HTTP request method.\",\n                \"name\": \"PATCH\",\n                \"options\": {},\n                \"criteriaMustSatisfy\": \"all\"\n              }\n            ],\n            \"comments\": \"Allow the use of HTTP methods. Consider enabling additional methods under a path match for increased origin security.\",\n            \"name\": \"Allowed methods\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"cacheTagVisible\",\n                \"options\": {\n                  \"behavior\": \"PRAGMA_HEADER\"\n                }\n              }\n            ],\n            \"comments\": \"Do not expose backend information unless the request contains the Pragma debug headers\",\n            \"name\": \"Obfuscate debug info\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"modifyOutgoingResponseHeader\",\n                \"options\": {\n                  \"action\": \"DELETE\",\n                  \"customHeaderName\": \"X-Powered-By\",\n                  \"standardDeleteHeaderName\": \"OTHER\"\n                }\n              },\n              {\n                \"name\": \"modifyOutgoingResponseHeader\",\n                \"options\": {\n                  \"action\": \"DELETE\",\n                  \"customHeaderName\": \"Server\",\n                  \"standardDeleteHeaderName\": \"OTHER\"\n                }\n              }\n            ],\n            \"comments\": \"Do not expose backend information unless the request contains an additional secret header. Regularly change the conditions to use a specific unique value for the secret header.\",\n            \"criteria\": [\n              {\n                \"name\": \"requestHeader\",\n                \"options\": {\n                  \"headerName\": \"X-Akamai-Debug\",\n                  \"matchCaseSensitiveValue\": true,\n                  \"matchOperator\": \"IS_NOT_ONE_OF\",\n                  \"matchWildcardName\": false,\n                  \"matchWildcardValue\": false,\n                  \"values\": [\n                    \"true\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"Obfuscate backend info\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"httpStrictTransportSecurity\",\n                \"options\": {\n                  \"enable\": false\n                }\n              }\n            ],\n            \"comments\": \"Require all browsers to connect to your site using HTTPS.\",\n            \"name\": \"HSTS\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          }\n        ],\n        \"comments\": \"Control the settings that minimize the information your website shares with clients and malicious entities to reduce your exposure to threats.\",\n        \"name\": \"Strengthen security\",\n        \"options\": {},\n        \"criteriaMustSatisfy\": \"all\"\n      },\n      {\n        \"children\": [\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"breakConnection\",\n                \"options\": {\n                  \"enabled\": true\n                }\n              }\n            ],\n            \"comments\": \"Simulate an origin connection problem and test the site failover configuration on the CDN staging network.\",\n            \"criteria\": [\n              {\n                \"name\": \"contentDeliveryNetwork\",\n                \"options\": {\n                  \"matchOperator\": \"IS\",\n                  \"network\": \"STAGING\"\n                }\n              },\n              {\n                \"name\": \"requestHeader\",\n                \"options\": {\n                  \"headerName\": \"breakconnection\",\n                  \"matchCaseSensitiveValue\": true,\n                  \"matchOperator\": \"IS_ONE_OF\",\n                  \"matchWildcardName\": false,\n                  \"matchWildcardValue\": false,\n                  \"values\": [\n                    \"Your-Secret-Here\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"Simulate failover\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"failAction\",\n                \"options\": {\n                  \"enabled\": false\n                }\n              }\n            ],\n            \"comments\": \"Specify how edge servers respond when the origin is not available.\",\n            \"criteria\": [\n              {\n                \"name\": \"originTimeout\",\n                \"options\": {\n                  \"matchOperator\": \"ORIGIN_TIMED_OUT\"\n                }\n              }\n            ],\n            \"name\": \"Site failover\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          },\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"healthDetection\",\n                \"options\": {\n                  \"maximumReconnects\": 3,\n                  \"retryCount\": 3,\n                  \"retryInterval\": \"10s\"\n                }\n              }\n            ],\n            \"comments\": \"Monitor the health of your origin by tracking unsuccessful IP connection attempts.\",\n            \"name\": \"Origin health\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          }\n        ],\n        \"comments\": \"Control how to respond when your origin or third parties are slow or even down to minimize the negative impact on user experience.\",\n        \"name\": \"Increase availability\",\n        \"options\": {},\n        \"criteriaMustSatisfy\": \"all\"\n      },\n      {\n        \"children\": [\n          {\n            \"behaviors\": [\n              {\n                \"name\": \"gzipResponse\",\n                \"options\": {\n                  \"behavior\": \"ALWAYS\"\n                }\n              }\n            ],\n            \"comments\": \"Serve gzip compressed content for text-based formats.\",\n            \"criteria\": [\n              {\n                \"name\": \"contentType\",\n                \"options\": {\n                  \"matchCaseSensitive\": false,\n                  \"matchOperator\": \"IS_ONE_OF\",\n                  \"matchWildcard\": true,\n                  \"values\": [\n                    \"application/*javascript*\",\n                    \"application/*json*\",\n                    \"application/*xml*\",\n                    \"application/text*\",\n                    \"application/vnd-ms-fontobject\",\n                    \"application/vnd.microsoft.icon\",\n                    \"application/x-font-opentype\",\n                    \"application/x-font-truetype\",\n                    \"application/x-font-ttf\",\n                    \"font/eot*\",\n                    \"font/opentype\",\n                    \"font/otf\",\n                    \"image/svg+xml\",\n                    \"image/vnd.microsoft.icon\",\n                    \"image/x-icon\",\n                    \"text/*\",\n                    \"application/octet-stream*\",\n                    \"application/x-font-eot*\",\n                    \"font/ttf\",\n                    \"application/font-ttf\",\n                    \"application/font-sfnt\",\n                    \"application/x-tgif\"\n                  ]\n                }\n              }\n            ],\n            \"name\": \"Compressible objects\",\n            \"options\": {},\n            \"criteriaMustSatisfy\": \"all\"\n          }\n        ],\n        \"comments\": \"Control the settings that reduce the size of the delivered content and decrease the number of bytes sent by your properties. This allows you to cut down the network overhead of your website or API.\",\n        \"name\": \"Minimize payload\",\n        \"options\": {},\n        \"criteriaMustSatisfy\": \"all\"\n      },\n      {\n        \"name\": \"Fingerprint\",\n        \"children\": [\n          {\n            \"name\": \"Ingress Endpoint Parser\",\n            \"children\": [],\n            \"behaviors\": [\n              {\n                \"name\": \"setVariable\",\n                \"options\": {\n                  \"valueSource\": \"EXTRACT\",\n                  \"transform\": \"SUBSTITUTE\",\n                  \"variableName\": \"PMUSER_FPJS_INGRESS_ENDPOINT\",\n                  \"extractLocation\": \"QUERY_STRING\",\n                  \"queryParameterName\": \"region\",\n                  \"regex\": \"^(\\\\w+)$\",\n                  \"replacement\": \"$0.api.fpjs.io\",\n                  \"caseSensitive\": false,\n                  \"globalSubstitution\": true\n                }\n              }\n            ],\n            \"criteria\": [\n              {\n                \"name\": \"queryStringParameter\",\n                \"options\": {\n                  \"matchOperator\": \"IS_NOT_ONE_OF\",\n                  \"matchWildcardName\": false,\n                  \"matchCaseSensitiveName\": true,\n                  \"parameterName\": \"region\",\n                  \"values\": [\n                    \"us\"\n                  ],\n                  \"matchWildcardValue\": false,\n                  \"matchCaseSensitiveValue\": true,\n                  \"escapeValue\": false\n                }\n              }\n            ],\n            \"criteriaMustSatisfy\": \"all\",\n            \"comments\": \"\"\n          },\n          {\n            \"name\": \"Agent Config Parser\",\n            \"children\": [],\n            \"behaviors\": [\n              {\n                \"name\": \"setVariable\",\n                \"options\": {\n                  \"valueSource\": \"EXTRACT\",\n                  \"transform\": \"NONE\",\n                  \"variableName\": \"PMUSER_FPJS_PUBLIC_API_KEY\",\n                  \"extractLocation\": \"QUERY_STRING\",\n                  \"queryParameterName\": \"apiKey\"\n                }\n              },\n              {\n                \"name\": \"setVariable\",\n                \"options\": {\n                  \"valueSource\": \"EXTRACT\",\n                  \"transform\": \"NONE\",\n                  \"variableName\": \"PMUSER_FPJS_AGENT_VERSION\",\n                  \"extractLocation\": \"QUERY_STRING\",\n                  \"queryParameterName\": \"version\"\n                }\n              },\n              {\n                \"name\": \"setVariable\",\n                \"options\": {\n                  \"valueSource\": \"EXPRESSION\",\n                  \"transform\": \"NONE\",\n                  \"variableName\": \"PMUSER_FPJS_AGENT_REQ_PATH\",\n                  \"variableValue\": \"/v{{user.PMUSER_FPJS_AGENT_VERSION}}/{{user.PMUSER_FPJS_PUBLIC_API_KEY}}\"\n                }\n              },\n              {\n                \"name\": \"setVariable\",\n                \"options\": {\n                  \"valueSource\": \"EXTRACT\",\n                  \"transform\": \"NONE\",\n                  \"variableName\": \"PMUSER_FPJS_AGENT_LOADER_VERSION\",\n                  \"extractLocation\": \"QUERY_STRING\",\n                  \"queryParameterName\": \"loaderVersion\"\n                }\n              }\n            ],\n            \"criteria\": [],\n            \"criteriaMustSatisfy\": \"all\",\n            \"comments\": \"\"\n          },\n          {\n            \"name\": \"Agent Config For Loader Version\",\n            \"children\": [],\n            \"behaviors\": [\n              {\n                \"name\": \"setVariable\",\n                \"options\": {\n                  \"valueSource\": \"EXPRESSION\",\n                  \"transform\": \"NONE\",\n                  \"variableName\": \"PMUSER_FPJS_AGENT_REQ_PATH\",\n                  \"variableValue\": \"{{user.PMUSER_FPJS_AGENT_REQ_PATH}}/loader_v{{user.PMUSER_FPJS_AGENT_LOADER_VERSION}}.js\"\n                }\n              }\n            ],\n            \"criteria\": [\n              {\n                \"name\": \"matchVariable\",\n                \"options\": {\n                  \"matchOperator\": \"IS_NOT_EMPTY\",\n                  \"variableName\": \"PMUSER_FPJS_AGENT_LOADER_VERSION\"\n                }\n              }\n            ],\n            \"criteriaMustSatisfy\": \"all\",\n            \"comments\": \"\"\n          },\n          {\n            \"name\": \"Origin for Agent\",\n            \"children\": [\n              {\n                \"name\": \"Remove Cookies for Agent\",\n                \"children\": [],\n                \"behaviors\": [\n                  {\n                    \"name\": \"modifyIncomingRequestHeader\",\n                    \"options\": {\n                      \"action\": \"DELETE\",\n                      \"standardDeleteHeaderName\": \"OTHER\",\n                      \"customHeaderName\": \"Cookie\"\n                    }\n                  }\n                ],\n                \"criteria\": [],\n                \"criteriaMustSatisfy\": \"all\",\n                \"comments\": \"\"\n              }\n            ],\n            \"behaviors\": [\n              {\n                \"name\": \"origin\",\n                \"options\": {\n                  \"originType\": \"CUSTOMER\",\n                  \"forwardHostHeader\": \"ORIGIN_HOSTNAME\",\n                  \"cacheKeyHostname\": \"ORIGIN_HOSTNAME\",\n                  \"compress\": true,\n                  \"enableTrueClientIp\": false,\n                  \"verificationMode\": \"THIRD_PARTY\",\n                  \"originSni\": true,\n                  \"httpPort\": 80,\n                  \"httpsPort\": 443,\n                  \"hostname\": \"fpcdn.io\",\n                  \"originCertificate\": \"\",\n                  \"ports\": \"\"\n                }\n              },\n              {\n                \"name\": \"rewriteUrl\",\n                \"options\": {\n                  \"behavior\": \"REGEX_REPLACE\",\n                  \"matchMultiple\": false,\n                  \"keepQueryString\": true,\n                  \"matchRegex\": \".*\",\n                  \"targetRegex\": \"{{user.PMUSER_FPJS_AGENT_REQ_PATH}}?ii=fingerprint-pro-akamai/{{user.PMUSER_FPJS_INTEGRATION_VERSION}}/procdn\u0026{{builtin.AK_QUERY}}\"\n                }\n              },\n              {\n                \"name\": \"caching\",\n                \"options\": {\n                  \"behavior\": \"CACHE_CONTROL_AND_EXPIRES\",\n                  \"mustRevalidate\": false,\n                  \"defaultTtl\": \"0s\",\n                  \"cacheControlDirectives\": \"\",\n                  \"enhancedRfcSupport\": true,\n                  \"honorPrivate\": true,\n                  \"honorMustRevalidate\": true,\n                  \"cacheabilitySettings\": \"\",\n                  \"honorNoStore\": true,\n                  \"honorNoCache\": true,\n                  \"expirationSettings\": \"\",\n                  \"honorMaxAge\": true,\n                  \"honorSMaxage\": true,\n                  \"revalidationSettings\": \"\",\n                  \"honorProxyRevalidate\": true\n                }\n              },\n              {\n                \"name\": \"allowTransferEncoding\",\n                \"options\": {\n                  \"enabled\": true\n                }\n              },\n              {\n                \"name\": \"brotli\",\n                \"options\": {\n                  \"enabled\": true\n                }\n              }\n            ],\n            \"criteria\": [\n              {\n                \"name\": \"path\",\n                \"options\": {\n                  \"matchOperator\": \"MATCHES_ONE_OF\",\n                  \"matchCaseSensitive\": false,\n                  \"normalize\": false,\n                  \"values\": [\n                    \"/abcd1234/xyz567\"\n                  ]\n                }\n              }\n            ],\n            \"criteriaMustSatisfy\": \"all\",\n            \"comments\": \"\"\n          },\n          {\n            \"name\": \"Origin for Ingress\",\n            \"children\": [\n              {\n                \"name\": \"Proxy Headers\",\n                \"children\": [],\n                \"behaviors\": [\n                  {\n                    \"name\": \"modifyIncomingRequestHeader\",\n                    \"options\": {\n                      \"action\": \"ADD\",\n                      \"standardAddHeaderName\": \"OTHER\",\n                      \"headerValue\": \"{{user.PMUSER_FPJS_PROXY_SECRET}}\",\n                      \"customHeaderName\": \"FPJS-Proxy-Secret\"\n                    }\n                  },\n                  {\n                    \"name\": \"modifyIncomingRequestHeader\",\n                    \"options\": {\n                      \"action\": \"ADD\",\n                      \"standardAddHeaderName\": \"OTHER\",\n                      \"headerValue\": \"{{builtin.AK_HOST}}\",\n                      \"customHeaderName\": \"FPJS-Proxy-Forwarded-Host\"\n                    }\n                  }\n                ],\n                \"criteria\": [],\n                \"criteriaMustSatisfy\": \"all\",\n                \"comments\": \"\"\n              },\n              {\n                \"name\": \"Remove Cookies if no _iidt\",\n                \"children\": [],\n                \"behaviors\": [\n                  {\n                    \"name\": \"modifyIncomingRequestHeader\",\n                    \"options\": {\n                      \"action\": \"DELETE\",\n                      \"standardDeleteHeaderName\": \"OTHER\",\n                      \"customHeaderName\": \"Cookie\"\n                    }\n                  }\n                ],\n                \"criteria\": [\n                  {\n                    \"name\": \"requestCookie\",\n                    \"options\": {\n                      \"matchOperator\": \"DOES_NOT_EXIST\",\n                      \"matchWildcardName\": false,\n                      \"matchCaseSensitiveName\": true,\n                      \"cookieName\": \"_iidt\"\n                    }\n                  }\n                ],\n                \"criteriaMustSatisfy\": \"all\",\n                \"comments\": \"\"\n              },\n              {\n                \"name\": \"Filter Cookies except _iidt\",\n                \"children\": [],\n                \"behaviors\": [\n                  {\n                    \"name\": \"setVariable\",\n                    \"options\": {\n                      \"valueSource\": \"EXTRACT\",\n                      \"transform\": \"SUBSTITUTE\",\n                      \"variableName\": \"PMUSER_FPJS_REQUEST_COOKIE\",\n                      \"extractLocation\": \"CLIENT_REQUEST_HEADER\",\n                      \"headerName\": \"Cookie\",\n                      \"caseSensitive\": false,\n                      \"regex\": \".*(_iidt=[^;]+).*\",\n                      \"replacement\": \"$1\",\n                      \"globalSubstitution\": true\n                    }\n                  },\n                  {\n                    \"name\": \"modifyIncomingRequestHeader\",\n                    \"options\": {\n                      \"action\": \"MODIFY\",\n                      \"standardModifyHeaderName\": \"OTHER\",\n                      \"newHeaderValue\": \"{{user.PMUSER_FPJS_REQUEST_COOKIE}}\",\n                      \"avoidDuplicateHeaders\": false,\n                      \"customHeaderName\": \"Cookie\"\n                    }\n                  }\n                ],\n                \"criteria\": [\n                  {\n                    \"name\": \"requestCookie\",\n                    \"options\": {\n                      \"matchOperator\": \"EXISTS\",\n                      \"matchWildcardName\": false,\n                      \"matchCaseSensitiveName\": true,\n                      \"cookieName\": \"_iidt\"\n                    }\n                  }\n                ],\n                \"criteriaMustSatisfy\": \"all\",\n                \"comments\": \"\"\n              }\n            ],\n            \"behaviors\": [\n              {\n                \"name\": \"origin\",\n                \"options\": {\n                  \"originType\": \"CUSTOMER\",\n                  \"forwardHostHeader\": \"ORIGIN_HOSTNAME\",\n                  \"cacheKeyHostname\": \"ORIGIN_HOSTNAME\",\n                  \"compress\": true,\n                  \"enableTrueClientIp\": false,\n                  \"verificationMode\": \"THIRD_PARTY\",\n                  \"originSni\": true,\n                  \"httpPort\": 80,\n                  \"httpsPort\": 443,\n                  \"hostname\": \"{{user.PMUSER_FPJS_INGRESS_ENDPOINT}}\",\n                  \"originCertificate\": \"\",\n                  \"ports\": \"\"\n                }\n              },\n              {\n                \"name\": \"rewriteUrl\",\n                \"options\": {\n                  \"behavior\": \"REGEX_REPLACE\",\n                  \"matchMultiple\": false,\n                  \"keepQueryString\": true,\n                  \"matchRegex\": \"\\\\/abcd1234\\\\/klmn789\",\n                  \"targetRegex\": \"/?ii=fingerprint-pro-akamai/{{user.PMUSER_FPJS_INTEGRATION_VERSION}}/ingress\u0026{{builtin.AK_QUERY}}\"\n                }\n              },\n              {\n                \"name\": \"modifyIncomingRequestHeader\",\n                \"options\": {\n                  \"action\": \"ADD\",\n                  \"standardAddHeaderName\": \"OTHER\",\n                  \"headerValue\": \"{{builtin.AK_CLIENT_REAL_IP}}\",\n                  \"customHeaderName\": \"FPJS-Proxy-Client-IP\"\n                }\n              }\n            ],\n            \"criteria\": [\n              {\n                \"name\": \"path\",\n                \"options\": {\n                  \"matchOperator\": \"MATCHES_ONE_OF\",\n                  \"matchCaseSensitive\": false,\n                  \"normalize\": false,\n                  \"values\": [\n                    \"/abcd1234/klmn789\"\n                  ]\n                }\n              }\n            ],\n            \"criteriaMustSatisfy\": \"all\",\n            \"comments\": \"\"\n          },\n          {\n            \"name\": \"Origin for Browser Cache\",\n            \"children\": [\n              {\n                \"name\": \"Remove Cookies for Browser Cache\",\n                \"children\": [],\n                \"behaviors\": [\n                  {\n                    \"name\": \"modifyIncomingRequestHeader\",\n                    \"options\": {\n                      \"action\": \"DELETE\",\n                      \"standardDeleteHeaderName\": \"OTHER\",\n                      \"customHeaderName\": \"Cookie\"\n                    }\n                  }\n                ],\n                \"criteria\": [],\n                \"criteriaMustSatisfy\": \"all\",\n                \"comments\": \"\"\n              }\n            ],\n            \"behaviors\": [\n              {\n                \"name\": \"origin\",\n                \"options\": {\n                  \"originType\": \"CUSTOMER\",\n                  \"forwardHostHeader\": \"ORIGIN_HOSTNAME\",\n                  \"cacheKeyHostname\": \"ORIGIN_HOSTNAME\",\n                  \"compress\": true,\n                  \"enableTrueClientIp\": false,\n                  \"verificationMode\": \"THIRD_PARTY\",\n                  \"originSni\": true,\n                  \"httpPort\": 80,\n                  \"httpsPort\": 443,\n                  \"hostname\": \"{{user.PMUSER_FPJS_INGRESS_ENDPOINT}}\",\n                  \"originCertificate\": \"\",\n                  \"ports\": \"\"\n                }\n              },\n              {\n                \"name\": \"rewriteUrl\",\n                \"options\": {\n                  \"behavior\": \"REGEX_REPLACE\",\n                  \"matchMultiple\": false,\n                  \"keepQueryString\": true,\n                  \"matchRegex\": \"\\\\/abcd1234\\\\/klmn789(.*)\",\n                  \"targetRegex\": \"$1\"\n                }\n              }\n            ],\n            \"criteria\": [\n              {\n                \"name\": \"path\",\n                \"options\": {\n                  \"matchOperator\": \"MATCHES_ONE_OF\",\n                  \"matchCaseSensitive\": false,\n                  \"normalize\": false,\n                  \"values\": [\n                    \"/abcd1234/klmn789/*\"\n                  ]\n                }\n              }\n            ],\n            \"criteriaMustSatisfy\": \"all\",\n            \"comments\": \"\"\n          },\n          {\n            \"name\": \"Status Path\",\n            \"children\": [],\n            \"behaviors\": [\n              {\n                \"name\": \"setVariable\",\n                \"options\": {\n                  \"valueSource\": \"GENERATE\",\n                  \"transform\": \"NONE\",\n                  \"variableName\": \"PMUSER_FPJS_STATUS_STYLE_NONCE\",\n                  \"generator\": \"HEXRAND\",\n                  \"numberOfBytes\": 16\n                }\n              },\n              {\n                \"name\": \"constructResponse\",\n                \"options\": {\n                  \"enabled\": true,\n                  \"responseCode\": 200,\n                  \"forceEviction\": false,\n                  \"ignorePurge\": false,\n                  \"body\": \"\u003chtml lang='en-US'\u003e\\n\u003chead\u003e\\n\u003cmeta charset='utf-8'/\u003e\\n\u003ctitle\u003eFingerprint Pro Akamai Integration\u003c/title\u003e\\n\u003clink rel='icon' type='image/x-icon' href='https://fingerprint.com/img/favicon.ico'\u003e\\n\u003cstyle nonce='{{user.PMUSER_FPJS_STATUS_STYLE_NONCE}}'\u003e\\n  h1, span {\\n    display: block;\\n    padding-top: 1em;\\n    padding-bottom: 1em;\\n    text-align: center;\\n  }\\n\u003c/style\u003e\\n\u003c/head\u003e\\n\u003cbody\u003e\\n\u003ch1\u003eFingerprint Pro Akamai Integration\u003c/h1\u003e\\n\u003cspan\u003eYour Akamai Integration is deployed\u003c/span\u003e\\n\u003cspan\u003e\\nIntegration version: {{user.PMUSER_FPJS_INTEGRATION_VERSION}}\\n\u003c/span\u003e\\n\u003cspan\u003e\\nPlease reach out our support via \u003ca href='mailto:support@fingerprint.com'\u003esupport@fingerprint.com\u003c/a\u003e if you have any issues\\n\u003c/span\u003e\\n\u003c/body\u003e\\n\u003c/html\u003e\"\n                }\n              },\n              {\n                \"name\": \"modifyOutgoingResponseHeader\",\n                \"options\": {\n                  \"action\": \"ADD\",\n                  \"standardAddHeaderName\": \"CONTENT_TYPE\",\n                  \"headerValue\": \"text/html\"\n                }\n              },\n              {\n                \"name\": \"modifyOutgoingResponseHeader\",\n                \"options\": {\n                  \"action\": \"ADD\",\n                  \"standardAddHeaderName\": \"OTHER\",\n                  \"headerValue\": \"default-src 'none'; img-src https://fingerprint.com; style-src 'nonce-{{user.PMUSER_FPJS_STATUS_STYLE_NONCE}}'\",\n                  \"customHeaderName\": \"Content-Security-Policy\"\n                }\n              }\n            ],\n            \"criteria\": [\n              {\n                \"name\": \"path\",\n                \"options\": {\n                  \"matchOperator\": \"MATCHES_ONE_OF\",\n                  \"matchCaseSensitive\": false,\n                  \"normalize\": false,\n                  \"values\": [\n                    \"/abcd1234/status\"\n                  ]\n                }\n              }\n            ],\n            \"criteriaMustSatisfy\": \"all\",\n            \"comments\": \"\"\n          },\n          {\n            \"name\": \"Filter HSTS Header\",\n            \"children\": [],\n            \"behaviors\": [\n              {\n                \"name\": \"modifyOutgoingResponseHeader\",\n                \"options\": {\n                  \"action\": \"DELETE\",\n                  \"standardDeleteHeaderName\": \"OTHER\",\n                  \"customHeaderName\": \"Strict-Transport-Security\"\n                }\n              }\n            ],\n            \"criteria\": [],\n            \"criteriaMustSatisfy\": \"all\",\n            \"comments\": \"\"\n          }\n        ],\n        \"behaviors\": [\n          {\n            \"name\": \"setVariable\",\n            \"options\": {\n              \"valueSource\": \"EXPRESSION\",\n              \"transform\": \"NONE\",\n              \"variableName\": \"PMUSER_FPJS_INTEGRATION_VERSION\",\n              \"variableValue\": \"1.0.0\"\n            }\n          },\n          {\n            \"name\": \"setVariable\",\n            \"options\": {\n              \"valueSource\": \"EXPRESSION\",\n              \"transform\": \"NONE\",\n              \"variableName\": \"PMUSER_FPJS_PROXY_SECRET\",\n              \"variableValue\": \"mcBJ5NzRbiOPaodKgbmA\"\n            }\n          },\n          {\n            \"name\": \"brotli\",\n            \"options\": {\n              \"enabled\": true\n            }\n          },\n          {\n            \"name\": \"allowTransferEncoding\",\n            \"options\": {\n              \"enabled\": true\n            }\n          }\n        ],\n        \"criteria\": [\n          {\n            \"name\": \"path\",\n            \"options\": {\n              \"matchOperator\": \"MATCHES_ONE_OF\",\n              \"matchCaseSensitive\": false,\n              \"normalize\": false,\n              \"values\": [\n                \"/abcd1234\",\n                \"/abcd1234/*\"\n              ]\n            }\n          }\n        ],\n        \"criteriaMustSatisfy\": \"all\",\n        \"comments\": \"\"\n      }\n    ],\n    \"variables\": [\n      {\n        \"name\": \"PMUSER_FPJS_STATUS_STYLE_NONCE\",\n        \"value\": \"\",\n        \"description\": \"Used for security of the status page\",\n        \"hidden\": false,\n        \"sensitive\": false\n      },\n      {\n        \"name\": \"PMUSER_FPJS_INTEGRATION_VERSION\",\n        \"value\": \"\",\n        \"description\": \"Indicates the Fingerprint Akamai Integration's version\",\n        \"hidden\": false,\n        \"sensitive\": false\n      },\n      {\n        \"name\": \"PMUSER_FPJS_REQUEST_COOKIE\",\n        \"value\": \"\",\n        \"description\": \"Used to filter out cookies except _iidt\",\n        \"hidden\": false,\n        \"sensitive\": false\n      },\n      {\n        \"name\": \"PMUSER_FPJS_AGENT_LOADER_VERSION\",\n        \"value\": \"\",\n        \"description\": \"Corresponds to Pro Agent loader version, parsed from the query string\",\n        \"hidden\": false,\n        \"sensitive\": false\n      },\n      {\n        \"name\": \"PMUSER_FPJS_AGENT_REQ_PATH\",\n        \"value\": \"\",\n        \"description\": \"Points to Pro CDN servers\",\n        \"hidden\": false,\n        \"sensitive\": false\n      },\n      {\n        \"name\": \"PMUSER_FPJS_AGENT_VERSION\",\n        \"value\": \"3\",\n        \"description\": \"Corresponds to Pro Agent version, parsed from the query string\",\n        \"hidden\": false,\n        \"sensitive\": false\n      },\n      {\n        \"name\": \"PMUSER_FPJS_PUBLIC_API_KEY\",\n        \"value\": \"\",\n        \"description\": \"Generated via Fingerprint Dashboard\",\n        \"hidden\": false,\n        \"sensitive\": false\n      },\n      {\n        \"name\": \"PMUSER_FPJS_INGRESS_ENDPOINT\",\n        \"value\": \"api.fpjs.io\",\n        \"description\": \"Points to Fingerprint servers\",\n        \"hidden\": false,\n        \"sensitive\": false\n      },\n      {\n        \"name\": \"PMUSER_FPJS_PROXY_SECRET\",\n        \"value\": \"\",\n        \"description\": \"Generated via Fingerprint Dashboard\",\n        \"hidden\": true,\n        \"sensitive\": false\n      }\n    ],\n    \"comments\": \"The Default Rule template contains all the necessary and recommended features. Rules are evaluated from top to bottom and the last matching rule wins.\",\n    \"options\": {\n      \"is_secure\": false\n    }\n  }\n}\n",
            "template": null,
            "template_file": "/Users/przemyslawzydek/WebstormProjects/akamai-property-example/rules/main.json",
            "var_definition_file": null,
            "var_values_file": null,
            "variables": [
              {
                "name": "cp_code_id",
                "type": "number",
                "value": "1545435"
              },
              {
                "name": "cp_code_name",
                "type": "string",
                "value": "akamai-test.pz-fingerprint.xyz"
              },
              {
                "name": "fpjs_agent_path",
                "type": "string",
                "value": "xyz567"
              },
              {
                "name": "fpjs_integration_path",
                "type": "string",
                "value": "abcd1234"
              },
              {
                "name": "fpjs_proxy_secret",
                "type": "string",
                "value": "mcBJ5NzRbiOPaodKgbmA"
              },
              {
                "name": "fpjs_result_path",
                "type": "string",
                "value": "klmn789"
              },
              {
                "name": "is_secure",
                "type": "bool",
                "value": "false"
              },
              {
                "name": "origin_hostname",
                "type": "string",
                "value": "fpjs-akamai.s3.amazonaws.com"
              },
              {
                "name": "product_id",
                "type": "string",
                "value": "prd_Site_Accel"
              }
            ]
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "akamai_cp_code",
      "name": "cp_code",
      "provider": "provider[\"registry.terraform.io/akamai/akamai\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "contract_id": "ctr_W-JTJ9VE",
            "group_id": "grp_237539",
            "id": "1545435",
            "name": "akamai-test.pz-fingerprint.xyz",
            "product_id": "prd_Site_Accel",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.config.data.akamai_contract.contract",
            "module.config.data.akamai_group.group"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "akamai_edge_hostname",
      "name": "hostname",
      "provider": "provider[\"registry.terraform.io/akamai/akamai\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate": null,
            "contract_id": "ctr_W-JTJ9VE",
            "edge_hostname": "akamai-test.pz-fingerprint.xyz.edgesuite.net",
            "group_id": "grp_237539",
            "id": "ehn_5463458",
            "ip_behavior": "IPV4",
            "product_id": "prd_Site_Accel",
            "status_update_email": null,
            "use_cases": ""
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.config.data.akamai_contract.contract",
            "module.config.data.akamai_group.group"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "akamai_property",
      "name": "property",
      "provider": "provider[\"registry.terraform.io/akamai/akamai\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "contract_id": "ctr_W-JTJ9VE",
            "group_id": "grp_237539",
            "hostnames": [
              {
                "cert_provisioning_type": "CPS_MANAGED",
                "cert_status": [
                  {
                    "hostname": "",
                    "production_status": "",
                    "staging_status": "",
                    "target": ""
                  }
                ],
                "cname_from": "akamai-test.pz-fingerprint.xyz",
                "cname_to": "akamai-test.pz-fingerprint.xyz.edgesuite.net",
                "cname_type": "EDGE_HOSTNAME",
                "edge_hostname_id": "ehn_5463458"
              }
            ],
            "id": "prp_986277",
            "latest_version": 5,
            "name": "akamai-test.pz-fingerprint.xyz",
            "product_id": "prd_Site_Accel",
            "production_version": 5,
            "read_version": 0,
            "rule_errors": [],
            "rule_format": "latest",
            "rules": "{\"rules\":{\"behaviors\":[{\"name\":\"origin\",\"options\":{\"cacheKeyHostname\":\"ORIGIN_HOSTNAME\",\"compress\":true,\"enableTrueClientIp\":true,\"forwardHostHeader\":\"ORIGIN_HOSTNAME\",\"hostname\":\"fpjs-akamai.s3.amazonaws.com\",\"httpPort\":80,\"httpsPort\":443,\"originCertificate\":\"\",\"originSni\":true,\"originType\":\"CUSTOMER\",\"ports\":\"\",\"trueClientIpClientSetting\":false,\"trueClientIpHeader\":\"True-Client-IP\",\"verificationMode\":\"PLATFORM_SETTINGS\"}},{\"name\":\"cpCode\",\"options\":{\"value\":{\"id\":1545435,\"name\":\"akamai-test.pz-fingerprint.xyz\",\"products\":[\"prd_Site_Accel\"]}}}],\"children\":[{\"children\":[{\"comments\":\"Identify your main traffic segments so you can zoom in your traffic statistics like hits, bandwidth, offload, response codes, and errors.\",\"name\":\"Traffic reporting\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"mPulse\",\"options\":{\"apiKey\":\"\",\"bufferSize\":\"\",\"configOverride\":\"\",\"enabled\":true,\"loaderVersion\":\"V12\",\"requirePci\":false,\"titleOptional\":\"\"}}],\"comments\":\"Collect and analyze real-user data to monitor the performance of your website.\",\"name\":\"mPulse RUM\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"edgeScape\",\"options\":{\"enabled\":false}}],\"comments\":\"Receive data about a user's geolocation and connection speed in a request header. If you change cached content based on the values of the X-Akamai-Edgescape request header, contact your account representative.\",\"criteria\":[{\"name\":\"requestType\",\"options\":{\"matchOperator\":\"IS\",\"value\":\"CLIENT_REQ\"}}],\"name\":\"Geolocation\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"report\",\"options\":{\"logAcceptLanguage\":false,\"logCookies\":\"OFF\",\"logCustomLogField\":false,\"logEdgeIP\":false,\"logHost\":false,\"logReferer\":false,\"logUserAgent\":false,\"logXForwardedFor\":false}}],\"comments\":\"Specify the level of detail you want to be logged in your Log Delivery Service reports. Log User-Agent Header to obtain detailed information in the Traffic by Browser and OS report.\",\"name\":\"Log delivery\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"comments\":\"Control the settings related to monitoring and reporting. This gives you additional visibility into your traffic and audiences.\",\"name\":\"Augment insights\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"children\":[{\"behaviors\":[{\"name\":\"dnsAsyncRefresh\",\"options\":{\"enabled\":true,\"timeout\":\"1h\"}},{\"name\":\"timeout\",\"options\":{\"value\":\"5s\"}},{\"name\":\"readTimeout\",\"options\":{\"value\":\"120s\"}}],\"comments\":\"Optimize the connection between edge and origin.\",\"name\":\"Origin connectivity\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"http3\",\"options\":{\"enable\":true}},{\"name\":\"http2\",\"options\":{\"enabled\":\"\"}},{\"name\":\"allowTransferEncoding\",\"options\":{\"enabled\":true}},{\"name\":\"sureRoute\",\"options\":{\"enableCustomKey\":false,\"enabled\":true,\"forceSslForward\":false,\"raceStatTtl\":\"30m\",\"srDownloadLinkTitle\":\"\",\"testObjectUrl\":\"/akamai/sureroute-test-object.html\",\"toHostStatus\":\"INCOMING_HH\",\"type\":\"PERFORMANCE\"}}],\"comments\":\"Serve your website using modern and fast protocols.\",\"name\":\"Protocol Optimizations\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"children\":[{\"behaviors\":[{\"name\":\"prefetch\",\"options\":{\"enabled\":true}}],\"children\":[{\"behaviors\":[{\"name\":\"prefetch\",\"options\":{\"enabled\":false}}],\"comments\":\"Disable prefetching for specific clients identifying themselves as bots and crawlers. This avoids requesting unnecessary resources from the origin.\",\"criteria\":[{\"name\":\"userAgent\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"IS_ONE_OF\",\"matchWildcard\":true,\"values\":[\"*bot*\",\"*crawl*\",\"*spider*\"]}}],\"name\":\"Bots\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"comments\":\"Define for which HTML pages prefetching should be enabled.\",\"name\":\"Prefetching objects\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"prefetchable\",\"options\":{\"enabled\":true}}],\"comments\":\"Define which resources should be prefetched.\",\"criteria\":[{\"name\":\"fileExtension\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"IS_ONE_OF\",\"values\":[\"css\",\"js\",\"jpg\",\"jpeg\",\"jp2\",\"png\",\"gif\",\"svg\",\"svgz\",\"webp\",\"eot\",\"woff\",\"woff2\",\"otf\",\"ttf\"]}}],\"name\":\"Prefetchable objects\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"name\":\"Prefetching\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"comments\":\"Control the settings related to improving the performance of delivering objects to your users.\",\"name\":\"Accelerate Delivery\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"caching\",\"options\":{\"behavior\":\"NO_STORE\"}},{\"name\":\"tieredDistribution\",\"options\":{\"enabled\":true,\"tieredDistributionMap\":\"CH2\"}},{\"name\":\"validateEntityTag\",\"options\":{\"enabled\":false}},{\"name\":\"removeVary\",\"options\":{\"enabled\":false}},{\"name\":\"cacheError\",\"options\":{\"enabled\":true,\"preserveStale\":true,\"ttl\":\"10s\"}},{\"name\":\"cacheKeyQueryParams\",\"options\":{\"behavior\":\"INCLUDE_ALL_ALPHABETIZE_ORDER\"}},{\"name\":\"prefreshCache\",\"options\":{\"enabled\":true,\"prefreshval\":90}},{\"name\":\"downstreamCache\",\"options\":{\"allowBehavior\":\"LESSER\",\"behavior\":\"ALLOW\",\"sendHeaders\":\"CACHE_CONTROL\",\"sendPrivate\":false}}],\"children\":[{\"behaviors\":[{\"name\":\"caching\",\"options\":{\"behavior\":\"MAX_AGE\",\"mustRevalidate\":false,\"ttl\":\"7d\"}}],\"comments\":\"Override the default caching behavior for CSS and JavaScript.\",\"criteria\":[{\"name\":\"fileExtension\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"IS_ONE_OF\",\"values\":[\"css\",\"js\"]}}],\"name\":\"CSS and JavaScript\",\"options\":{},\"criteriaMustSatisfy\":\"any\"},{\"behaviors\":[{\"name\":\"caching\",\"options\":{\"behavior\":\"MAX_AGE\",\"mustRevalidate\":false,\"ttl\":\"30d\"}}],\"comments\":\"Override the default caching behavior for fonts.\",\"criteria\":[{\"name\":\"fileExtension\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"IS_ONE_OF\",\"values\":[\"eot\",\"woff\",\"woff2\",\"otf\",\"ttf\"]}}],\"name\":\"Fonts\",\"options\":{},\"criteriaMustSatisfy\":\"any\"},{\"behaviors\":[{\"name\":\"caching\",\"options\":{\"behavior\":\"MAX_AGE\",\"mustRevalidate\":false,\"ttl\":\"30d\"}}],\"comments\":\"Override the default caching behavior for images.\",\"criteria\":[{\"name\":\"fileExtension\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"IS_ONE_OF\",\"values\":[\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\",\"jp2\",\"ico\",\"svg\",\"svgz\"]}}],\"name\":\"Images\",\"options\":{},\"criteriaMustSatisfy\":\"any\"},{\"behaviors\":[{\"name\":\"caching\",\"options\":{\"behavior\":\"MAX_AGE\",\"mustRevalidate\":false,\"ttl\":\"7d\"}}],\"comments\":\"Override the default caching behavior for files. Files containing Personal Identified Information (PII) should require Edge authentication or not be cached at all.\",\"criteria\":[{\"name\":\"fileExtension\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"IS_ONE_OF\",\"values\":[\"pdf\",\"doc\",\"docx\",\"odt\"]}}],\"name\":\"Files\",\"options\":{},\"criteriaMustSatisfy\":\"any\"},{\"behaviors\":[{\"name\":\"caching\",\"options\":{\"behavior\":\"MAX_AGE\",\"mustRevalidate\":false,\"ttl\":\"7d\"}}],\"comments\":\"Override the default caching behavior for other static objects.\",\"criteria\":[{\"name\":\"fileExtension\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"IS_ONE_OF\",\"values\":[\"aif\",\"aiff\",\"au\",\"avi\",\"bin\",\"bmp\",\"cab\",\"carb\",\"cct\",\"cdf\",\"class\",\"dcr\",\"dtd\",\"exe\",\"flv\",\"gcf\",\"gff\",\"grv\",\"hdml\",\"hqx\",\"ini\",\"mov\",\"mp3\",\"nc\",\"pct\",\"ppc\",\"pws\",\"swa\",\"swf\",\"txt\",\"vbs\",\"w32\",\"wav\",\"midi\",\"wbmp\",\"wml\",\"wmlc\",\"wmls\",\"wmlsc\",\"xsd\",\"zip\",\"pict\",\"tif\",\"tiff\",\"mid\",\"jxr\",\"jar\"]}}],\"name\":\"Other static objects\",\"options\":{},\"criteriaMustSatisfy\":\"any\"},{\"behaviors\":[{\"name\":\"caching\",\"options\":{\"behavior\":\"NO_STORE\"}},{\"name\":\"cacheKeyQueryParams\",\"options\":{\"behavior\":\"IGNORE\",\"exactMatch\":true,\"parameters\":[\"gclid\",\"fbclid\",\"utm_source\",\"utm_campaign\",\"utm_medium\",\"utm_content\"]}}],\"comments\":\"Override the default caching behavior for HTML pages cached on edge servers.\",\"criteria\":[{\"name\":\"fileExtension\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"IS_ONE_OF\",\"values\":[\"html\",\"htm\",\"php\",\"jsp\",\"aspx\",\"EMPTY_STRING\"]}}],\"name\":\"HTML pages\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"cacheRedirect\",\"options\":{\"enabled\":\"false\"}},{\"name\":\"chaseRedirects\",\"options\":{\"enabled\":false}}],\"comments\":\"Configure caching for HTTP redirects. The redirect is cached for the same TTL as a 200 response when this feature is enabled\",\"name\":\"Redirects\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"cachePost\",\"options\":{\"enabled\":false}}],\"comments\":\"Define when HTTP POST requests should be cached. You should enable it under a criteria match.\",\"name\":\"POST responses\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"graphqlCaching\",\"options\":{\"enabled\":false}}],\"comments\":\"Define when your GraphQL queries should be cached.\",\"criteria\":[{\"name\":\"path\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"MATCHES_ONE_OF\",\"normalize\":false,\"values\":[\"/graphql\"]}}],\"name\":\"GraphQL\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"downstreamCache\",\"options\":{\"behavior\":\"BUST\"}}],\"comments\":\"Configure the default client caching behavior for uncacheable content at the edge.\",\"criteria\":[{\"name\":\"cacheability\",\"options\":{\"matchOperator\":\"IS_NOT\",\"value\":\"CACHEABLE\"}}],\"name\":\"Uncacheable objects\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"comments\":\"Control the settings related to caching content at the edge and in the browser. As a result, fewer requests go to your origin, fewer bytes leave your data centers, and your assets are closer to your users.\",\"name\":\"Offload origin\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"children\":[{\"behaviors\":[{\"name\":\"allHttpInCacheHierarchy\",\"options\":{\"enabled\":true}}],\"children\":[{\"behaviors\":[{\"name\":\"allowPost\",\"options\":{\"allowWithoutContentLength\":false,\"enabled\":true}}],\"comments\":\"Allow use of the POST HTTP request method.\",\"name\":\"POST\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"allowOptions\",\"options\":{\"enabled\":true}}],\"comments\":\"Allow use of the OPTIONS HTTP request method.\",\"name\":\"OPTIONS\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"allowPut\",\"options\":{\"enabled\":false}}],\"comments\":\"Allow use of the PUT HTTP request method.\",\"name\":\"PUT\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"allowDelete\",\"options\":{\"enabled\":false}}],\"comments\":\"Allow use of the DELETE HTTP request method.\",\"name\":\"DELETE\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"allowPatch\",\"options\":{\"enabled\":false}}],\"comments\":\"Allow use of the PATCH HTTP request method.\",\"name\":\"PATCH\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"comments\":\"Allow the use of HTTP methods. Consider enabling additional methods under a path match for increased origin security.\",\"name\":\"Allowed methods\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"cacheTagVisible\",\"options\":{\"behavior\":\"PRAGMA_HEADER\"}}],\"comments\":\"Do not expose backend information unless the request contains the Pragma debug headers\",\"name\":\"Obfuscate debug info\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"modifyOutgoingResponseHeader\",\"options\":{\"action\":\"DELETE\",\"customHeaderName\":\"X-Powered-By\",\"standardDeleteHeaderName\":\"OTHER\"}},{\"name\":\"modifyOutgoingResponseHeader\",\"options\":{\"action\":\"DELETE\",\"customHeaderName\":\"Server\",\"standardDeleteHeaderName\":\"OTHER\"}}],\"comments\":\"Do not expose backend information unless the request contains an additional secret header. Regularly change the conditions to use a specific unique value for the secret header.\",\"criteria\":[{\"name\":\"requestHeader\",\"options\":{\"headerName\":\"X-Akamai-Debug\",\"matchCaseSensitiveValue\":true,\"matchOperator\":\"IS_NOT_ONE_OF\",\"matchWildcardName\":false,\"matchWildcardValue\":false,\"values\":[\"true\"]}}],\"name\":\"Obfuscate backend info\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"httpStrictTransportSecurity\",\"options\":{\"enable\":false}}],\"comments\":\"Require all browsers to connect to your site using HTTPS.\",\"name\":\"HSTS\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"comments\":\"Control the settings that minimize the information your website shares with clients and malicious entities to reduce your exposure to threats.\",\"name\":\"Strengthen security\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"children\":[{\"behaviors\":[{\"name\":\"breakConnection\",\"options\":{\"enabled\":true}}],\"comments\":\"Simulate an origin connection problem and test the site failover configuration on the CDN staging network.\",\"criteria\":[{\"name\":\"contentDeliveryNetwork\",\"options\":{\"matchOperator\":\"IS\",\"network\":\"STAGING\"}},{\"name\":\"requestHeader\",\"options\":{\"headerName\":\"breakconnection\",\"matchCaseSensitiveValue\":true,\"matchOperator\":\"IS_ONE_OF\",\"matchWildcardName\":false,\"matchWildcardValue\":false,\"values\":[\"Your-Secret-Here\"]}}],\"name\":\"Simulate failover\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"failAction\",\"options\":{\"enabled\":false}}],\"comments\":\"Specify how edge servers respond when the origin is not available.\",\"criteria\":[{\"name\":\"originTimeout\",\"options\":{\"matchOperator\":\"ORIGIN_TIMED_OUT\"}}],\"name\":\"Site failover\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"healthDetection\",\"options\":{\"maximumReconnects\":3,\"retryCount\":3,\"retryInterval\":\"10s\"}}],\"comments\":\"Monitor the health of your origin by tracking unsuccessful IP connection attempts.\",\"name\":\"Origin health\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"comments\":\"Control how to respond when your origin or third parties are slow or even down to minimize the negative impact on user experience.\",\"name\":\"Increase availability\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"children\":[{\"behaviors\":[{\"name\":\"gzipResponse\",\"options\":{\"behavior\":\"ALWAYS\"}}],\"comments\":\"Serve gzip compressed content for text-based formats.\",\"criteria\":[{\"name\":\"contentType\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"IS_ONE_OF\",\"matchWildcard\":true,\"values\":[\"application/*javascript*\",\"application/*json*\",\"application/*xml*\",\"application/text*\",\"application/vnd-ms-fontobject\",\"application/vnd.microsoft.icon\",\"application/x-font-opentype\",\"application/x-font-truetype\",\"application/x-font-ttf\",\"font/eot*\",\"font/opentype\",\"font/otf\",\"image/svg+xml\",\"image/vnd.microsoft.icon\",\"image/x-icon\",\"text/*\",\"application/octet-stream*\",\"application/x-font-eot*\",\"font/ttf\",\"application/font-ttf\",\"application/font-sfnt\",\"application/x-tgif\"]}}],\"name\":\"Compressible objects\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"comments\":\"Control the settings that reduce the size of the delivered content and decrease the number of bytes sent by your properties. This allows you to cut down the network overhead of your website or API.\",\"name\":\"Minimize payload\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"setVariable\",\"options\":{\"transform\":\"NONE\",\"valueSource\":\"EXPRESSION\",\"variableName\":\"PMUSER_FPJS_INTEGRATION_VERSION\",\"variableValue\":\"1.0.0\"}},{\"name\":\"setVariable\",\"options\":{\"transform\":\"NONE\",\"valueSource\":\"EXPRESSION\",\"variableName\":\"PMUSER_FPJS_PROXY_SECRET\",\"variableValue\":\"mcBJ5NzRbiOPaodKgbmA\"}},{\"name\":\"brotli\",\"options\":{\"enabled\":true}},{\"name\":\"allowTransferEncoding\",\"options\":{\"enabled\":true}}],\"children\":[{\"behaviors\":[{\"name\":\"setVariable\",\"options\":{\"caseSensitive\":false,\"extractLocation\":\"QUERY_STRING\",\"globalSubstitution\":true,\"queryParameterName\":\"region\",\"regex\":\"^(\\\\w+)$\",\"replacement\":\"$0.api.fpjs.io\",\"transform\":\"SUBSTITUTE\",\"valueSource\":\"EXTRACT\",\"variableName\":\"PMUSER_FPJS_INGRESS_ENDPOINT\"}}],\"criteria\":[{\"name\":\"queryStringParameter\",\"options\":{\"escapeValue\":false,\"matchCaseSensitiveName\":true,\"matchCaseSensitiveValue\":true,\"matchOperator\":\"IS_NOT_ONE_OF\",\"matchWildcardName\":false,\"matchWildcardValue\":false,\"parameterName\":\"region\",\"values\":[\"us\"]}}],\"name\":\"Ingress Endpoint Parser\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"setVariable\",\"options\":{\"extractLocation\":\"QUERY_STRING\",\"queryParameterName\":\"apiKey\",\"transform\":\"NONE\",\"valueSource\":\"EXTRACT\",\"variableName\":\"PMUSER_FPJS_PUBLIC_API_KEY\"}},{\"name\":\"setVariable\",\"options\":{\"extractLocation\":\"QUERY_STRING\",\"queryParameterName\":\"version\",\"transform\":\"NONE\",\"valueSource\":\"EXTRACT\",\"variableName\":\"PMUSER_FPJS_AGENT_VERSION\"}},{\"name\":\"setVariable\",\"options\":{\"transform\":\"NONE\",\"valueSource\":\"EXPRESSION\",\"variableName\":\"PMUSER_FPJS_AGENT_REQ_PATH\",\"variableValue\":\"/v{{user.PMUSER_FPJS_AGENT_VERSION}}/{{user.PMUSER_FPJS_PUBLIC_API_KEY}}\"}},{\"name\":\"setVariable\",\"options\":{\"extractLocation\":\"QUERY_STRING\",\"queryParameterName\":\"loaderVersion\",\"transform\":\"NONE\",\"valueSource\":\"EXTRACT\",\"variableName\":\"PMUSER_FPJS_AGENT_LOADER_VERSION\"}}],\"name\":\"Agent Config Parser\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"setVariable\",\"options\":{\"transform\":\"NONE\",\"valueSource\":\"EXPRESSION\",\"variableName\":\"PMUSER_FPJS_AGENT_REQ_PATH\",\"variableValue\":\"{{user.PMUSER_FPJS_AGENT_REQ_PATH}}/loader_v{{user.PMUSER_FPJS_AGENT_LOADER_VERSION}}.js\"}}],\"criteria\":[{\"name\":\"matchVariable\",\"options\":{\"matchOperator\":\"IS_NOT_EMPTY\",\"variableName\":\"PMUSER_FPJS_AGENT_LOADER_VERSION\"}}],\"name\":\"Agent Config For Loader Version\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"origin\",\"options\":{\"cacheKeyHostname\":\"ORIGIN_HOSTNAME\",\"compress\":true,\"enableTrueClientIp\":false,\"forwardHostHeader\":\"ORIGIN_HOSTNAME\",\"hostname\":\"fpcdn.io\",\"httpPort\":80,\"httpsPort\":443,\"originCertificate\":\"\",\"originSni\":true,\"originType\":\"CUSTOMER\",\"ports\":\"\",\"verificationMode\":\"THIRD_PARTY\"}},{\"name\":\"rewriteUrl\",\"options\":{\"behavior\":\"REGEX_REPLACE\",\"keepQueryString\":true,\"matchMultiple\":false,\"matchRegex\":\".*\",\"targetRegex\":\"{{user.PMUSER_FPJS_AGENT_REQ_PATH}}?ii=fingerprint-pro-akamai/{{user.PMUSER_FPJS_INTEGRATION_VERSION}}/procdn\\u0026{{builtin.AK_QUERY}}\"}},{\"name\":\"caching\",\"options\":{\"behavior\":\"CACHE_CONTROL_AND_EXPIRES\",\"cacheControlDirectives\":\"\",\"cacheabilitySettings\":\"\",\"defaultTtl\":\"0s\",\"enhancedRfcSupport\":true,\"expirationSettings\":\"\",\"honorMaxAge\":true,\"honorMustRevalidate\":true,\"honorNoCache\":true,\"honorNoStore\":true,\"honorPrivate\":true,\"honorProxyRevalidate\":true,\"honorSMaxage\":true,\"mustRevalidate\":false,\"revalidationSettings\":\"\"}},{\"name\":\"allowTransferEncoding\",\"options\":{\"enabled\":true}},{\"name\":\"brotli\",\"options\":{\"enabled\":true}}],\"children\":[{\"behaviors\":[{\"name\":\"modifyIncomingRequestHeader\",\"options\":{\"action\":\"DELETE\",\"customHeaderName\":\"Cookie\",\"standardDeleteHeaderName\":\"OTHER\"}}],\"name\":\"Remove Cookies for Agent\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"criteria\":[{\"name\":\"path\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"MATCHES_ONE_OF\",\"normalize\":false,\"values\":[\"/abcd1234/xyz567\"]}}],\"name\":\"Origin for Agent\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"origin\",\"options\":{\"cacheKeyHostname\":\"ORIGIN_HOSTNAME\",\"compress\":true,\"enableTrueClientIp\":false,\"forwardHostHeader\":\"ORIGIN_HOSTNAME\",\"hostname\":\"{{user.PMUSER_FPJS_INGRESS_ENDPOINT}}\",\"httpPort\":80,\"httpsPort\":443,\"originCertificate\":\"\",\"originSni\":true,\"originType\":\"CUSTOMER\",\"ports\":\"\",\"verificationMode\":\"THIRD_PARTY\"}},{\"name\":\"rewriteUrl\",\"options\":{\"behavior\":\"REGEX_REPLACE\",\"keepQueryString\":true,\"matchMultiple\":false,\"matchRegex\":\"\\\\/abcd1234\\\\/klmn789\",\"targetRegex\":\"/?ii=fingerprint-pro-akamai/{{user.PMUSER_FPJS_INTEGRATION_VERSION}}/ingress\\u0026{{builtin.AK_QUERY}}\"}},{\"name\":\"modifyIncomingRequestHeader\",\"options\":{\"action\":\"ADD\",\"customHeaderName\":\"FPJS-Proxy-Client-IP\",\"headerValue\":\"{{builtin.AK_CLIENT_REAL_IP}}\",\"standardAddHeaderName\":\"OTHER\"}}],\"children\":[{\"behaviors\":[{\"name\":\"modifyIncomingRequestHeader\",\"options\":{\"action\":\"ADD\",\"customHeaderName\":\"FPJS-Proxy-Secret\",\"headerValue\":\"{{user.PMUSER_FPJS_PROXY_SECRET}}\",\"standardAddHeaderName\":\"OTHER\"}},{\"name\":\"modifyIncomingRequestHeader\",\"options\":{\"action\":\"ADD\",\"customHeaderName\":\"FPJS-Proxy-Forwarded-Host\",\"headerValue\":\"{{builtin.AK_HOST}}\",\"standardAddHeaderName\":\"OTHER\"}}],\"name\":\"Proxy Headers\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"modifyIncomingRequestHeader\",\"options\":{\"action\":\"DELETE\",\"customHeaderName\":\"Cookie\",\"standardDeleteHeaderName\":\"OTHER\"}}],\"criteria\":[{\"name\":\"requestCookie\",\"options\":{\"cookieName\":\"_iidt\",\"matchCaseSensitiveName\":true,\"matchOperator\":\"DOES_NOT_EXIST\",\"matchWildcardName\":false}}],\"name\":\"Remove Cookies if no _iidt\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"setVariable\",\"options\":{\"caseSensitive\":false,\"extractLocation\":\"CLIENT_REQUEST_HEADER\",\"globalSubstitution\":true,\"headerName\":\"Cookie\",\"regex\":\".*(_iidt=[^;]+).*\",\"replacement\":\"$1\",\"transform\":\"SUBSTITUTE\",\"valueSource\":\"EXTRACT\",\"variableName\":\"PMUSER_FPJS_REQUEST_COOKIE\"}},{\"name\":\"modifyIncomingRequestHeader\",\"options\":{\"action\":\"MODIFY\",\"avoidDuplicateHeaders\":false,\"customHeaderName\":\"Cookie\",\"newHeaderValue\":\"{{user.PMUSER_FPJS_REQUEST_COOKIE}}\",\"standardModifyHeaderName\":\"OTHER\"}}],\"criteria\":[{\"name\":\"requestCookie\",\"options\":{\"cookieName\":\"_iidt\",\"matchCaseSensitiveName\":true,\"matchOperator\":\"EXISTS\",\"matchWildcardName\":false}}],\"name\":\"Filter Cookies except _iidt\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"criteria\":[{\"name\":\"path\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"MATCHES_ONE_OF\",\"normalize\":false,\"values\":[\"/abcd1234/klmn789\"]}}],\"name\":\"Origin for Ingress\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"origin\",\"options\":{\"cacheKeyHostname\":\"ORIGIN_HOSTNAME\",\"compress\":true,\"enableTrueClientIp\":false,\"forwardHostHeader\":\"ORIGIN_HOSTNAME\",\"hostname\":\"{{user.PMUSER_FPJS_INGRESS_ENDPOINT}}\",\"httpPort\":80,\"httpsPort\":443,\"originCertificate\":\"\",\"originSni\":true,\"originType\":\"CUSTOMER\",\"ports\":\"\",\"verificationMode\":\"THIRD_PARTY\"}},{\"name\":\"rewriteUrl\",\"options\":{\"behavior\":\"REGEX_REPLACE\",\"keepQueryString\":true,\"matchMultiple\":false,\"matchRegex\":\"\\\\/abcd1234\\\\/klmn789(.*)\",\"targetRegex\":\"$1\"}}],\"children\":[{\"behaviors\":[{\"name\":\"modifyIncomingRequestHeader\",\"options\":{\"action\":\"DELETE\",\"customHeaderName\":\"Cookie\",\"standardDeleteHeaderName\":\"OTHER\"}}],\"name\":\"Remove Cookies for Browser Cache\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"criteria\":[{\"name\":\"path\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"MATCHES_ONE_OF\",\"normalize\":false,\"values\":[\"/abcd1234/klmn789/*\"]}}],\"name\":\"Origin for Browser Cache\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"setVariable\",\"options\":{\"generator\":\"HEXRAND\",\"numberOfBytes\":16,\"transform\":\"NONE\",\"valueSource\":\"GENERATE\",\"variableName\":\"PMUSER_FPJS_STATUS_STYLE_NONCE\"}},{\"name\":\"constructResponse\",\"options\":{\"body\":\"\\u003chtml lang='en-US'\\u003e\\n\\u003chead\\u003e\\n\\u003cmeta charset='utf-8'/\\u003e\\n\\u003ctitle\\u003eFingerprint Pro Akamai Integration\\u003c/title\\u003e\\n\\u003clink rel='icon' type='image/x-icon' href='https://fingerprint.com/img/favicon.ico'\\u003e\\n\\u003cstyle nonce='{{user.PMUSER_FPJS_STATUS_STYLE_NONCE}}'\\u003e\\n  h1, span {\\n    display: block;\\n    padding-top: 1em;\\n    padding-bottom: 1em;\\n    text-align: center;\\n  }\\n\\u003c/style\\u003e\\n\\u003c/head\\u003e\\n\\u003cbody\\u003e\\n\\u003ch1\\u003eFingerprint Pro Akamai Integration\\u003c/h1\\u003e\\n\\u003cspan\\u003eYour Akamai Integration is deployed\\u003c/span\\u003e\\n\\u003cspan\\u003e\\nIntegration version: {{user.PMUSER_FPJS_INTEGRATION_VERSION}}\\n\\u003c/span\\u003e\\n\\u003cspan\\u003e\\nPlease reach out our support via \\u003ca href='mailto:support@fingerprint.com'\\u003esupport@fingerprint.com\\u003c/a\\u003e if you have any issues\\n\\u003c/span\\u003e\\n\\u003c/body\\u003e\\n\\u003c/html\\u003e\",\"enabled\":true,\"forceEviction\":false,\"ignorePurge\":false,\"responseCode\":200}},{\"name\":\"modifyOutgoingResponseHeader\",\"options\":{\"action\":\"ADD\",\"headerValue\":\"text/html\",\"standardAddHeaderName\":\"CONTENT_TYPE\"}},{\"name\":\"modifyOutgoingResponseHeader\",\"options\":{\"action\":\"ADD\",\"customHeaderName\":\"Content-Security-Policy\",\"headerValue\":\"default-src 'none'; img-src https://fingerprint.com; style-src 'nonce-{{user.PMUSER_FPJS_STATUS_STYLE_NONCE}}'\",\"standardAddHeaderName\":\"OTHER\"}}],\"criteria\":[{\"name\":\"path\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"MATCHES_ONE_OF\",\"normalize\":false,\"values\":[\"/abcd1234/status\"]}}],\"name\":\"Status Path\",\"options\":{},\"criteriaMustSatisfy\":\"all\"},{\"behaviors\":[{\"name\":\"modifyOutgoingResponseHeader\",\"options\":{\"action\":\"DELETE\",\"customHeaderName\":\"Strict-Transport-Security\",\"standardDeleteHeaderName\":\"OTHER\"}}],\"name\":\"Filter HSTS Header\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"criteria\":[{\"name\":\"path\",\"options\":{\"matchCaseSensitive\":false,\"matchOperator\":\"MATCHES_ONE_OF\",\"normalize\":false,\"values\":[\"/abcd1234\",\"/abcd1234/*\"]}}],\"name\":\"Fingerprint\",\"options\":{},\"criteriaMustSatisfy\":\"all\"}],\"comments\":\"The Default Rule template contains all the necessary and recommended features. Rules are evaluated from top to bottom and the last matching rule wins.\",\"name\":\"default\",\"options\":{},\"variables\":[{\"description\":\"Used for security of the status page\",\"hidden\":false,\"name\":\"PMUSER_FPJS_STATUS_STYLE_NONCE\",\"sensitive\":false,\"value\":\"\"},{\"description\":\"Indicates the Fingerprint Akamai Integration's version\",\"hidden\":false,\"name\":\"PMUSER_FPJS_INTEGRATION_VERSION\",\"sensitive\":false,\"value\":\"\"},{\"description\":\"Used to filter out cookies except _iidt\",\"hidden\":false,\"name\":\"PMUSER_FPJS_REQUEST_COOKIE\",\"sensitive\":false,\"value\":\"\"},{\"description\":\"Corresponds to Pro Agent loader version, parsed from the query string\",\"hidden\":false,\"name\":\"PMUSER_FPJS_AGENT_LOADER_VERSION\",\"sensitive\":false,\"value\":\"\"},{\"description\":\"Points to Pro CDN servers\",\"hidden\":false,\"name\":\"PMUSER_FPJS_AGENT_REQ_PATH\",\"sensitive\":false,\"value\":\"\"},{\"description\":\"Corresponds to Pro Agent version, parsed from the query string\",\"hidden\":false,\"name\":\"PMUSER_FPJS_AGENT_VERSION\",\"sensitive\":false,\"value\":\"3\"},{\"description\":\"Generated via Fingerprint Dashboard\",\"hidden\":false,\"name\":\"PMUSER_FPJS_PUBLIC_API_KEY\",\"sensitive\":false,\"value\":\"\"},{\"description\":\"Points to Fingerprint servers\",\"hidden\":false,\"name\":\"PMUSER_FPJS_INGRESS_ENDPOINT\",\"sensitive\":false,\"value\":\"api.fpjs.io\"},{\"description\":\"Generated via Fingerprint Dashboard\",\"hidden\":true,\"name\":\"PMUSER_FPJS_PROXY_SECRET\",\"sensitive\":false,\"value\":\"\"}]}}",
            "staging_version": 0
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "akamai_cp_code.cp_code",
            "akamai_edge_hostname.hostname",
            "data.akamai_property_rules_template.rules",
            "module.config.data.akamai_contract.contract",
            "module.config.data.akamai_group.group"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "akamai_property_activation",
      "name": "activation",
      "provider": "provider[\"registry.terraform.io/akamai/akamai\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "activation_id": "atv_14045233",
            "auto_acknowledge_rule_warnings": true,
            "compliance_record": [],
            "contact": [
              "przemyslaw.zydek@fingerprint.com"
            ],
            "errors": "",
            "id": "prp_986277:PRODUCTION",
            "network": "PRODUCTION",
            "note": "",
            "property_id": "prp_986277",
            "rule_errors": [],
            "status": "ACTIVE",
            "timeouts": null,
            "version": 5,
            "warnings": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWZhdWx0Ijo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjU0MDAwMDAwMDAwMDAsInVwZGF0ZSI6NTQwMDAwMDAwMDAwMH19",
          "dependencies": [
            "akamai_cp_code.cp_code",
            "akamai_edge_hostname.hostname",
            "akamai_property.property",
            "data.akamai_property_rules_template.rules",
            "module.config.data.akamai_contract.contract",
            "module.config.data.akamai_group.group"
          ]
        }
      ]
    },
    {
      "module": "module.config",
      "mode": "data",
      "type": "akamai_contract",
      "name": "contract",
      "provider": "provider[\"registry.terraform.io/akamai/akamai\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "group_id": "grp_237539",
            "group_name": "FingerprintJS Inc.-W-JTJ9VE",
            "id": "ctr_W-JTJ9VE"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.config",
      "mode": "data",
      "type": "akamai_group",
      "name": "group",
      "provider": "provider[\"registry.terraform.io/akamai/akamai\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "contract_id": "ctr_W-JTJ9VE",
            "group_name": "FingerprintJS Inc.-W-JTJ9VE",
            "id": "grp_237539"
          },
          "sensitive_attributes": []
        }
      ]
    }
  ],
  "check_results": null
}
